# $Id$ #

Oinkmaster v1.0 - 200xxxxx
~~~~~~~~~~~~~~~~~~~~~~~~~~
o You can now set "rule_actions = ..." in oinkmaster.conf to tell 
  oinkmaster what keywords are valid as the start of a Snort rule. Useful 
  if you create your own ruletypes and want those lines to be regarded as 
  rules instead of non-rule lines. If unset, 
  "alert|drop|log|pass|reject|sdrop|activate|dynamic" will be used 
  (same as before).
o You can now run without external binaries if you have the required
  Perl modules installed (Archive::Tar, IO::Zlib and LWP::UserAgent).
  You can set use_external_bins to 0 or 1 in oinkmaster.conf to override
  the default. 0 means to use the Perl modules, 1 means to use external
  binaries. It's set to 0 by default on Win32 (since the required
  Perl modules are already included in ActivePerl), and 1 on other systems 
  (i.e. same behavior as before). This makes it much easier to install 
  Oinkmaster on Windows/ActivePerl. See the new default oinkmaster.conf
  for more information.
o Most contrib scripts have been improved with misc minor feature updates
  and small bug fixes.
o A fully featured graphical multi-platform front-end to Oinkmaster 
  written in Perl/Tk is included in the contrib directory (oinkgui.pl). 
  See README.gui for more information. Screenshots are available on
  Oinkmaster's homepage.
o The new oinkmaster.conf has been updated with more and better
  examples (mostly "modifysid" stuff).
o Perl version is checked on startup and must be >= 5.6.1.
o Permission on all rules files in the output directory that are subject
  to become updated by Oinkmaster (i.e. files matching the "update_rules"
  regexp and that are not ignore by a "skipfile") are now checked
  before starting, so that we don't bail out in a middle of
  execution if a copy of an updated file should fail because of
  permission problem.
o Default URL in distribution oinkmaster.conf is now
  http://www.snort.org/dl/rules/snortrules-snapshot-2_1.tar.gz. Don't
  forget to change it if it's not the right one for your version
  of Snort.
o A manual page is now included which describes all the command 
  line options in detail.
o Major documentation updates.
o Slightly improved multi-line rule parsing.
o A bunch of other minor improvements.



Oinkmaster v0.9 - 20031201
~~~~~~~~~~~~~~~~~~~~~~~~~~
o It's much faster now.
o Added ability to use "include <file>" in oinkmaster configuration
  files. <file> will be parsed (just like a regular oinkmaster.conf) as
  soon as the include statement is seen, and then return and continue
  parsing the rest of the original file. If an option is re-defined, it
  will override the previous value. You can use as many 'include'
  statements as you wish, and also include even more files from included
  files.
o Also permit an arbitrary number of "-C" arguments to be specified on
  command line to load multiple config files. They will be loaded in the
  order of appearance.
o Permit https://... in url specification. Only useful if your wget is
  SSL-enabled and you download from an SSL-enabled site.
o Permit scp://<user>@<remotehost>:<file.tar.gz> in url specification.
  The rules archive will be copied from remotehost using scp (only tested
  with OpenSSH). You can specify a private key with scp_key = ... in
  oinkmaster.conf (or set it in ~/.ssh/config).
o You can now specify "-i" for interactive mode. You will be asked to
  approve the changes before Oinkmaster modifies anything.
o Added 'enablesid' option to oinkmaster.conf.
o Slightly improved rules parsing (order of sid and msg does not matter).
o oinkmaster.conf will be searched for in /etc/ and /usr/local/etc/ by default.
o Make contrib/create-sidmap.pl and contrib/addsid.pl take an arbitrary number
  of directories as argument.
o Added a FAQ.
o wget is now always run in verbose mode, although the output is not displayed
  unless you run Oinkmaster in verbose mode as well, or if an error occurs (i.e.
  no more need to re-run in verbose mode just to get decent error messages).
o deleted.rules is now ignored (with a "skipfile delete.rules") in the 
  default oinkmaster.conf.
o You can now specify a wildcard ('*') to the modifysid keyword, like 
  modifysid * "foo" | "bar", to apply the substitution expression to all
  matching rules. This enables you to do stuff like convert all rules of a
  certain classtype to 'drop' rules, or replace all 'flow' keywords with 
  "flags: A+;", and so on. See oinkmaster.conf for examples.
o Include seconds in filename of backup tarball.
o File::Temp is used for creation of temporary directory. You probably 
  already have that module unless you run an ancient version of Perl.
o Many other minor improvements.



Oinkmaster v0.8 - 20030902
~~~~~~~~~~~~~~~~~~~~~~~~~~
o Experimental multi-line rule support.
o Make contrib/addsid.pl and contrib/addmsg.pl handle multi-line rules as well.
o Added create-sidmap.pl to contrib section. It's a script that generates 
  a SID map from a directory with rules files. (Like snort's regen-sidmap,
  but this one handles multi-line rules).
o The 'modifysid' keyword now regards the arguments as regular expressions.
  So if you already use this function, you may have to adjust the arguments.
  Based on a patch from operator@email.it. Also added a bunch of examples.
o Understand Snort_inline's "drop", "sdrop" and "reject" rules.
o You can now start Perl with tainting checks enabled if you like, if
  you have a reasonably recent version of Perl.
o The default temporary directory will be checked for in the environment
  variables TMP, TMPDIR and TEMPDIR. "/tmp" will be used if none was set.
  You can override this by setting tmpdir in oinkmaster.conf.
o A bunch of Win32/Cygwin fixes, mostly from Ueli Kistler <iuk@gmx.ch>.
o A bunch of fixes that makes it work on native Win32 with ActivePerl.
o Added a README.win32 with information about Oinkmaster on Windows.
o Added command line argument "-T" to test the configuration and then exit.
o Better check for duplicate SIDs. Check is done across all files now, and
  duplicate SIDs in downloaded archive are discarded (only first one is 
  kept) and not copied to the local files. This will avoid some annoying 
  warning messages about duplicates in the local files that won't go away 
  until the files gets updated again. Pointed out by elof@sentor.se.
o Slightly modified format when printing results 
  (hopefully easier to read when there are a large number of changes).
o New options in oinkmaster.conf: min_files and min_rules.
  If number of rules files or number of rules are not at least min_files
  and min_rules respectively, the rules tarball is regarded as broken and
  the update is aborted. Both are set to 1 by default.
o New command line option, -U <file>. If specified, variable definitions that
  exist in the distribution snort.conf but not in <file>
  will be inserted at the beginning of it. See README for more info.
o Avoid using move() from File::Copy since some versions of it lies about
  the error message (e.g. "Cross-device link" instead of "Permission denied").
  Thanks to Del Armstrong for investigating this issue!



Oinkmaster v0.7 - 20030217
~~~~~~~~~~~~~~~~~~~~~~~~~~
o oinkmaster.conf will now be searched for in /usr/local/etc/ by
  default (instead of in the current directory).
  You will have to put it there or use the -C argument.
o Don't print warning when using "-e" in quiet mode.
o "-p" ("preserve comments") is now not just obsolete, but invalid.
o New argument, "-Q" to run in über-quiet mode.
  Same as quiet mode except that it doesn't print the "None." stuff
  when printing results.
o Support file://<filename> syntax in URL specification.
  Rules archive will be copied directly from the local filesystem
  (which must have been put there ahead of time).
  Suggested by aidan.carty@entropy.ie.
o sid-msg.map will now be updated by default.
o Warn instead of exit in case of invalid lines in the config file.
o Added possibility to modify sids, using the "modifysid" keyword
  in the config file (use with care).
o Added makesidex.pl by Jerry Applebaum <JApplebaum@APTEGRITY.com>
  to contrib section. Useful to new Oinkmaster users who already
  have many rules commented out and don't want to create oinkmaster.conf
  manually from scratch. It strips out the sids from everything you've
  commented out and writes them out in a format that can be appended to
  oinkmaster.conf.
o Added addmsg.pl (by myself) to contrib section.
  It's a script that will parse your oinkmaster.conf for "disablesid" lines
  and add to them their SID message as a #comment.
o Fixed bug related to deleted rules printout.
o Default URL is now 
  http://www.snort.org/dl/rules/snortrules-stable.tar.gz.
o In verbose mode, print warning if a file in the downloaded archive is empty.
o Don't require write permission in the output directory when running with -c.
  Pointed out by arjones@simultan.dyndns.org.
o Don't care about trailing whitespaces for non-rule lines (to avoid getting
  a diff where the same line appears to have been both added and removed when
  only a trailing whitespace has been removed etc).
o Allow umask to be specified in oinkmaster.conf.
o Many internal cleanups and minor bug fixes.



Oinkmaster v0.6 - 20020706
~~~~~~~~~~~~~~~~~~~~~~~~~~
o Rules that are disabled by default in the rules distribution
  will now NOT be re-enabled by Oinkmaster by default, finally.
  I.e. "-p" is obsolete. If you want to enable those rules you now
  have to use "-e".
o A couple of minor documentation updates.



Oinkmaster v0.5 - 20020506
~~~~~~~~~~~~~~~~~~~~~~~~~~
o Fixed bug where all filenames would not always be printed.
o Fixed minor whitespace idiocy.
o Print which rules that are being preserved or enabled (for rules that
  are commented out by default) when running in verbose mode.
o SID dup warnings will no longer be printed when running in quiet mode.
o Document example where running silently as a cron job, only
  sending e-mail when there were updates available.
o Document that using -p is usually a good idea.



Oinkmaster v0.4 - 20020422
~~~~~~~~~~~~~~~~~~~~~~~~~~
o More or less rewritten from scratch.
o The file rules.ignore has been renamed to oinkmaster.conf, which contains
  more than just the sids to disable (have a look at it).
o Slightly improved error checking.
o Better output format (or at least it has changed).
o Oinkmaster will now also update other files (and print changes in them) than
  *.rules and classification.conf. The default is now *.rules, *.conf, *.config,
  *.txt and *.map so we also update the MIB and sid-msg.map files for example.
  Files to be updated is defined by a regexp in oinkmaster.conf so this can
  easily be changed.
o Removed several stupid command line options.
o Print warning message if two (or more) rules share the same SID.
o Added option -p to preserve disabled rules in downloaded archive.
o "file" and "sid" keywords in oinkmaster.conf are now invalid.
  They are instead called "skipfile" and "disablesid" (to avoid confusion
  when possibly adding new keywords in the future).
o Instead of specifying one "disablesid X" per line, you can now also use
  comma-separated lists, e.g. "disablesid 1,2,3,4,42".
  Same goes for the skipfile keyword.
o Various minor bug fixes and tweaks.
o Some documentation updates.



Oinkmaster v0.3 - never (was rewritten and became v0.4)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



Oinkmaster v0.2 - 20010906
~~~~~~~~~~~~~~~~~~~~~~~~~~
o Added optional "-a <attempts>" argument (which is passed to wget's "-t" argument)
  to configure maximum number of download retries before giving up.
o Warning message will be printed if there is any invalid line in the ignore file.
o Fixed a few stupid bugs.
o Default URL is now http://www.snort.org/downloads/snortrules.tar.gz
  PLEASE be aware of the following description of the rules in the above archive:
  "This is a CVS snapshot of the snort signatures every 30 minutes.
  NOTE: These signatures may only work with snort-current"



Oinkmaster v0.1 - 20010726
~~~~~~~~~~~~~~~~~~~~~~~~~~
o Initial release (based on arachnids_upd v0.4).



arachnids_upd v0.4 - 20010526
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
o Minor optimization fix, which a few people pointed out.



arachnids_upd v0.3 - 20010508
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
o Much more easy-to-read output of the rule changes
  (the diff command is no longer used).
  The changes are split into eight categories:

o Added (new):
  - New rule (the IDS number did not exist in the old ruleset).
o Added (enabled):
  - The rule (with this IDS number) was commented in the old ruleset, but is
    now activated.
o Added (enabled) and modified:
  -  The rule (with this IDS number) was commented in the old ruleset, but
     is now activated. The actual rule had also been modified.
o Removed (deleted):
  - The rule (with this IDS number) does no longer exist in any way.
o Removed (disabled):
  - The rule (with this IDS number) still exists but have now been commented.
o Removed (disabled) and modified:
  - The rule (with this IDS number) still exists but have now been commented.
    The actual rule had also been modified.
o Modified active:
  - The rule (with this IDS number) have been modified and is an active rule.
o Modified inactive:
   -  The rule (with this IDS number) have been modified but is currently an
      inactive (commented) rule.

o Added INSTALL file with basic installation instructions.
o Minor enhancements.
o Minor documentation updates.



arachnids_upd v0.2 - 20010422
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
o The ruleset file in the URL must now be gzipped.
  Default URL is now http://www.whitehats.com/ids/vision.rules.gz.
  An integrity check (gzip -t) will be run on this file after download.
o You must now use -b <directory> instead of just -b.
  Backups will be stored in this directory.
o If there were no changes in the new ruleset, no backup will be done and the
  current ruleset will remain untouched.
o Added contribution script from Dejan Muhamedagic (see contrib/).
  I'm not sure it's quite as useful now in v0.2 though.
o Added -q option to run in quiet mode. No output unless the rules had changed.
o Minor documentation updates.
o Minor bug fixes and other minor enhancements
  (see arachnids_upd.pl -h for new options).



arachnids_upd v0.1 - 20010210
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
o Initial release.
